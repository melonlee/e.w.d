package com.melonlee.ewd.dao;import java.sql.ResultSet;import java.sql.SQLException;import javax.annotation.Resource;import com.melonlee.ewd.bean.AdminBean;import com.melonlee.ewd.utils.DateFormatUtils;import org.springframework.jdbc.core.JdbcTemplate;import org.springframework.jdbc.core.RowCallbackHandler;import org.springframework.stereotype.Repository;@Repositorypublic class AdminDao {    @Resource    private JdbcTemplate jdbcTemplate;    public AdminBean login(String userName, String userPwd) {        final AdminBean bean = new AdminBean();        String sql = "select * from T_Admin  where  userName='" + userName                + "' and userPwd='" + userPwd + "' ";        jdbcTemplate.query(sql, new RowCallbackHandler() {            @Override            public void processRow(ResultSet result) throws SQLException {                bean.setId(result.getInt("id"));                bean.setUserName(result.getString("userName"));                bean.setUserPwd(result.getString("userPwd"));                jdbcTemplate.update("update  T_Admin set lastLogin='"                        + DateFormatUtils.getNow() + "'");            }        });        return bean;    }}